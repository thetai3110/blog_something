(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[1],{118:function(e,t,n){"use strict";var a=n(4),o=n(3),c=n(18),i=n(12),r=n(90),s=n(82),l=n(57),u=n.n(l),d=(n(155),n(2));t.a=Object(i.f)(Object(c.b)((function(e){return{blogInfo:e.blog.blogInfo}}),(function(e){return{setBlogInfo:function(t){return e(Object(s.b)(t))}}}))((function(e){var t=e.blogInfo,n=e.setBlogInfo,c=e.location,i=Object(o.useRef)(null),s=Object(o.useRef)(null);Object(o.useEffect)((function(){t.tags&&"/blog/create"!==c.pathname&&t.tags.forEach((function(e){var t=document.createElement("span");t.innerHTML="".concat(e,' <i class="fa fa-close close-tag"></i>'),s.current.appendChild(t),i.current.value=""}))}),[]);return Object(d.jsxs)("div",{className:"tags-input",children:[Object(d.jsx)("div",{ref:s,className:"tags",onClick:function(e){if(e.target.closest(".close-tag")){var o=e.target.closest("span").innerText.trim();t.tags.forEach((function(e,c){if(o===e){s.current.removeChild(s.current.children[c]);var i=t.tags;i.splice(c,1),n(Object(a.a)(Object(a.a)({},t),{},{tag:i}))}}))}}}),Object(d.jsx)("div",{className:"input",children:Object(d.jsx)("input",{ref:i,onFocus:function(){u()(".tags-input").css("border","1px solid #5488c7")},onBlur:function(){u()(".tags-input").css("border","1px solid #d4d4d8")},placeholder:"T\u1ea1o kh\xf4ng qu\xe1 5 tag",type:"text",onKeyDown:function(e){if(13===e.keyCode){var o=e.target.value;if(""!==o&&!t.tags.includes(o))if(t.tags.length<5){var c=t.tags,l=document.createElement("span");l.innerHTML="".concat(o,' <i class="fa fa-close close-tag"></i>'),s.current.appendChild(l),i.current.value="",c.push(o),n(Object(a.a)(Object(a.a)({},t),{},{tag:c}))}else Object(r.a)({title:"Warning!",message:"Cannot create too 5 tags",type:"warning",duration:3e3})}if((8===e.keyCode||46===e.keyCode)&&(""===e.target.value&&s.current.children.length>0)){s.current.removeChild(s.current.children[s.current.children.length-1]);var u=t.tags;u.pop(),n(Object(a.a)(Object(a.a)({},t),{},{tag:u}))}},onChange:function(){}})})]})})))},119:function(e,t,n){"use strict";var a=n(3),o=n(18),c=n(2);t.a=Object(o.b)((function(e){return{blogInfo:e.blog.blogInfo}}))((function(e){var t=e.blogInfo.content,n=Object(a.useRef)(null);return Object(a.useEffect)((function(){n.current.innerHTML=t}),[t]),Object(c.jsx)("div",{className:"modal fade bd-modal-preview",tabIndex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog modal-lg",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header",children:[Object(c.jsxs)("h5",{className:"modal-title",id:"modelPublishedLongTitle",children:[Object(c.jsx)("i",{className:"fa fa-eye"})," Xem tr\u01b0\u1edbc"]}),Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsx)("div",{className:"modal-body",children:Object(c.jsx)("div",{className:"ck-content",children:Object(c.jsx)("div",{ref:n,style:{padding:"0px 20px"}})})}),Object(c.jsx)("div",{className:"modal-footer",children:Object(c.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})}))},120:function(e,t,n){"use strict";var a=n(4),o=n(18),c=n(12),i=n(83),r=n(82),s=n(2);t.a=Object(c.f)(Object(o.b)((function(e){return{blogInfo:e.blog.blogInfo}}),(function(e){return{setBlogInfo:function(t){return e(Object(r.b)(t))}}}))((function(e){var t=e.blogInfo,n=e.setBlogInfo,o=e.location;return Object(s.jsx)(i.g,{placeholder:"T\xf3m t\u1eaft",defaultValue:"/blog/create"===o.pathname?"":t.summary,onChange:function(e){return n(Object(a.a)(Object(a.a)({},t),{},{summary:e.target.value}))}})})))},121:function(e,t,n){"use strict";var a=n(4),o=n(32),c=n.n(o),i=n(45),r=n(3),s=n(18),l=n(90),u=n(21),d=n(82),f=(n(158),n(2));t.a=Object(s.b)((function(e){var t=e.blog;return{blogInfo:t.blogInfo,fileName:t.fileName,progress:t.progress,hiddenProgress:t.hiddenProgress}}),(function(e){return{setBlogInfo:function(t){return e(Object(d.b)(t))},setFileName:function(t){return e(Object(d.g)(t))},setProgress:function(t){return e(Object(d.n)(t))},setHiddenProgress:function(t){return e(Object(d.h)(t))}}}))((function(e){var t=e.blogInfo,n=e.fileName,o=e.setBlogInfo,s=e.setFileName,d=e.progress,b=e.setProgress,g=e.hiddenProgress,m=e.setHiddenProgress,p=t.image;Object(r.useEffect)((function(){m(!0),Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("file-upload-blog").onchange=function(){s(this.value.split("\\").pop())};case 1:case"end":return e.stop()}}),e)})))()}),[]);return Object(f.jsxs)("div",{className:"upload-image",children:[Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=document.getElementById("file-upload-blog").files[0];if("undefined"!==typeof n){var c="upload"+Date.now()+"."+n.type.split("/").pop(),i=u.c.ref("uploads/".concat(c)).put(n);m(!1),i.on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);b(t)}),(function(e){Object(l.a)({title:"Failed!",message:e,type:"error",duration:2e3})}),(function(){u.c.ref("uploads").child(c).getDownloadURL().then((function(e){o(Object(a.a)(Object(a.a)({},t),{},{image:e}))}))}))}else s("no have any image!")},encType:"multipart/form-data",method:"POST",className:"custom-file form-upload",children:[Object(f.jsx)("input",{type:"file",id:"file-upload-blog",accept:"image/*",name:"file-upload-blog",style:{display:"none"}}),Object(f.jsxs)("div",{className:"action",children:[Object(f.jsx)("label",{className:"btn btn-secondary",htmlFor:"file-upload-blog",children:"Ch\u1ecdn \u1ea3nh"}),Object(f.jsx)("p",{style:{color:"no have any image!"===n?"red":"#333"},children:Object(f.jsx)("i",{children:n})})]}),Object(f.jsx)("div",{children:Object(f.jsx)("i",{className:"fa fa-angle-double-right"})}),Object(f.jsx)("input",{type:"submit",className:"btn btn-secondary",value:"T\u1ea3i l\xean"})]}),g?null:Object(f.jsx)("div",{className:"progress",style:{width:"auto",marginBottom:"0.5rem"},children:Object(f.jsxs)("div",{className:"progress-bar progress-bar-striped bg-info",role:"progressbar",style:{width:"".concat(d,"%")},"aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100",children:[d,"%"]})}),Object(f.jsx)("img",{style:{display:""!==p?"block":"none"},src:p,alt:n})]})}))},122:function(e,t,n){"use strict";var a=n(159),o=n(160),c=n(4),i=n(161),r=n(165),s=n.n(r),l=n(18),u=n(90),d=n(21),f=n(82),b=(n(176),n(2)),g=function(){function e(t){Object(a.a)(this,e),this.loader=t}return Object(o.a)(e,[{key:"upload",value:function(){return this.loader.file.then((function(e){return new Promise((function(t,n){var a="upload"+Date.now()+"."+e.type.split("/").pop(),o=d.c.ref("uploads/".concat(a)).put(e);o.on("state_changed",(function(e){}),(function(e){Object(u.a)({title:"Failed!",message:e,type:"error",duration:2e3})}),(function(){o.snapshot.ref.getDownloadURL().then((function(e){t({default:e})}))}))}))}))}}]),e}();t.a=Object(l.b)((function(e){return{blogInfo:e.blog.blogInfo}}),(function(e){return{setBlogInfo:function(t){return e(Object(f.b)(t))}}}))((function(e){var t=e.blogInfo,n=e.setBlogInfo;return Object(b.jsx)("div",{className:"editor-blog",children:Object(b.jsx)(i.CKEditor,{data:t.content,editor:s.a,config:{toolbar:{items:["code","|","heading","|","bold","underline","italic","fontFamily","fontSize","fontColor","fontBackgroundColor","highlight","|","bulletedList","numberedList","|","outdent","indent","|","link","imageUpload","blockQuote","insertTable","mediaEmbed","imageInsert","codeBlock","undo","redo"]},language:"en",image:{styles:["alignLeft","alignCenter","alignRight"],toolbar:["imageStyle:alignLeft","imageStyle:alignCenter","imageStyle:alignRight","|","imageResize","|","imageTextAlternative","|","linkImage"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableCellProperties","tableProperties"]},licenseKey:""},onChange:function(e,a){""!==a.getData()&&n(Object(c.a)(Object(c.a)({},t),{},{title:a.getData().split("</h1>").shift().slice(4),content:a.getData()}))},onReady:function(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return new g(e)}}})})}))},138:function(e,t,n){"use strict";var a=n(18),o=n(82),c=(n(156),n(32)),i=n.n(c),r=n(45),s=n(4),l=n(12),u=n(90),d=n(20),f=n(99),b=(n(157),n(2)),g=Object(l.f)(Object(a.b)((function(e){return{blogInfo:e.blog.blogInfo}}),(function(e){return{setBlogInfo:function(t){return e(Object(o.b)(t))},setFileName:function(t){return e(Object(o.g)(t))},toggleSaveBox:function(){return e(Object(o.r)())}}}))((function(e){var t=e.blogInfo,n=e.setBlogInfo,a=e.setFileName,o=e.toggleSaveBox,c=e.history,l=e.location,g=e.id,m=Object(d.b)().currentUser,p=t.title,j=t.summary,h=t.image,O=t.content,y=t.tags,v=function(e){"&nbsp;"!==p&&""!==O&&""!==j&&""!==h?Object(r.a)(i.a.mark((function r(){var d,b;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,d=new Date,b={author:{name:m.displayName,email:m.email,uid:m.uid},title:p,summary:j,content:O,image:h,tags:y,published:e,lastModify:d.toLocaleDateString()+", "+d.toLocaleTimeString(),comments:[]},"/blog/create"!==l.pathname){i.next=8;break}return i.next=6,f.a.create(b);case 6:i.next=10;break;case 8:return i.next=10,f.a.modify(b,g);case 10:n(Object(s.a)(Object(s.a)({},t),{},{summary:"",content:"",image:"",title:"",tags:[]})),a(""),o(!0),Object(u.a)({title:"Success!",message:"A new blog added.",type:"success",duration:2e3}),setTimeout((function(){c.replace("/blogs")}),2e3),i.next=19;break;case 15:i.prev=15,i.t0=i.catch(0),Object(u.a)({title:"Failed!",message:"Failed at: ".concat(i.t0),type:"error",duration:3e3}),console.log("SaveBlogBox: "+i.t0);case 19:case"end":return i.stop()}}),r,null,[[0,15]])})))():Object(u.a)({title:"Warning!",message:"Please fill all fields (".concat(""===h?"image, ":""," ").concat("&nbsp;"===p?"title, ":""," ").concat(""===O?"content, ":""," ").concat(""===j?"summary":"",")."),type:"warning",duration:3e3})};return Object(b.jsxs)("div",{className:"save-box",id:"save-box",children:[Object(b.jsx)("h6",{children:"C\xf4ng khai b\xe0i vi\u1ebft"}),Object(b.jsx)("p",{children:"L\u1ef1a ch\u1ecdn:"}),Object(b.jsxs)("div",{className:"save-option",children:[Object(b.jsx)("input",{type:"radio",name:"save",id:"public",defaultChecked:!1}),Object(b.jsx)("label",{htmlFor:"public",children:"C\xf4ng khai"}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"radio",name:"save",id:"private",defaultChecked:!1}),Object(b.jsx)("label",{htmlFor:"private",children:"Ri\xeang t\u01b0"}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"radio",name:"save",id:"draft",defaultChecked:!0}),Object(b.jsx)("label",{htmlFor:"draft",children:"Draft"}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{className:"option-description",id:"public-description",children:[Object(b.jsx)("p",{children:"T\u1ea5t c\u1ea3 m\u1ecdi ng\u01b0\u1eddi \u0111\u1ec1u c\xf3 th\u1ec3 nh\xecn th\u1ea5y b\xe0i vi\u1ebft n\xe0y."}),Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){return v(1)},children:"C\xf4ng khai"})]}),Object(b.jsxs)("div",{className:"option-description",id:"private-description",children:[Object(b.jsx)("p",{children:"Ch\u1ec9 c\xf3 b\u1ea1n m\u1edbi c\xf3 th\u1ec3 nh\xecn th\u1ea5y b\xe0i vi\u1ebft n\xe0y. B\u1ea1n c\xf3 th\u1ec3 c\xf4ng khai n\xf3 b\u1ea5t c\u1ee9 khi n\xe0o."}),Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){return v(2)},children:"Ri\xeang t\u01b0"})]}),Object(b.jsxs)("div",{className:"option-description",id:"draft-description",children:[Object(b.jsx)("p",{children:"L\u01b0u nh\xe1p n\u1ebfu b\u1ea1n ch\u01b0a ho\xe0n th\xe0nh b\xe0i vi\u1ebft n\xe0y v\xe0 mu\u1ed1n ch\u1ec9nh s\u1eeda ti\u1ebfp."}),Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){return v(0)},children:"L\u01b0u nh\xe1p"})]})]})]})})));t.a=Object(a.b)((function(e){return{hiddenSave:e.blog.hiddenSave}}),(function(e){return{toggleSaveBox:function(){return e(Object(o.r)())}}}))((function(e){var t=e.hiddenSave,n=e.toggleSaveBox,a=e.id;return Object(b.jsxs)("div",{className:"actions",children:[Object(b.jsxs)("button",{className:"btn btn-secondary","data-toggle":"modal","data-target":".bd-modal-preview",children:["Xem tr\u01b0\u1edbc ",Object(b.jsx)("i",{className:"fa fa-eye"})]}),Object(b.jsxs)("div",{className:"save-blog",children:[Object(b.jsxs)("button",{className:"btn btn-secondary",onClick:n,children:["Xong ",Object(b.jsx)("i",{className:"fa fa-chevron-down","aria-hidden":"true"})]}),t?null:Object(b.jsx)(g,{id:a})]})]})}))},155:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},176:function(e,t,n){},82:function(e,t,n){"use strict";n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return c})),n.d(t,"m",(function(){return i})),n.d(t,"l",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"q",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"g",(function(){return g})),n.d(t,"r",(function(){return m})),n.d(t,"n",(function(){return p})),n.d(t,"h",(function(){return j})),n.d(t,"i",(function(){return h})),n.d(t,"a",(function(){return O})),n.d(t,"o",(function(){return y})),n.d(t,"p",(function(){return v}));var a=n(13),o=function(e){return{type:a.a.SET_LST_BLOGS,payload:e}},c=function(e){return{type:a.a.SET_LST_DRAFTS,payload:e}},i=function(e){return{type:a.a.SET_LST_PUBLICS,payload:e}},r=function(e){return{type:a.a.SET_LST_PRIVATES,payload:e}},s=function(e){return{type:a.a.SET_COUNT_BLOGS,payload:e}},l=function(e){return{type:a.a.SET_COUNT_DRAFTS,payload:e}},u=function(e){return{type:a.a.SET_COUNT_PUBLICS,payload:e}},d=function(e){return{type:a.a.SET_COUNT_PRIVATES,payload:e}},f=function(e){return{type:a.a.SET_TAGS_BLOG,payload:e}},b=function(e){return{type:a.a.SET_BLOG_INFO,payload:e}},g=function(e){return{type:a.a.SET_FILENAME,payload:e}},m=function(){return{type:a.a.TOGGLE_SAVE_BOX}},p=function(e){return{type:a.a.PROGRESS_UPLOAD,payload:e}},j=function(e){return{type:a.a.HIDDEN_PROGRESS,payload:e}},h=function(e){return{type:a.a.HIDDEN_SIDEBAR,payload:e}},O=function(e){return{type:a.a.SET_ALL_TAG,payload:e}},y=function(e){return{type:a.a.SEARCH_INFO,payload:e}},v=function(e){return{type:a.a.SET_SELECTION_RANGE,payload:e}}},83:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return j})),n.d(t,"g",(function(){return h}));var a,o,c,i,r,s,l,u=n(46),d=n(47),f=d.a.input(a||(a=Object(u.a)(["\n    border: 1px solid #dcdfe6;\n    background-color: #ffff;\n    flex-grow: 2;\n    color: #777;\n    padding: 7px 15px;\n    width: 100%;\n    &:focus{\n        outline: none;\n        border: 1px solid #5488c7;\n    }\n"]))),b=d.a.option(o||(o=Object(u.a)(["\n    color: #777;\n    min-width: 375px;\n"]))),g=d.a.datalist(c||(c=Object(u.a)(["\n    color: #777;\n    min-width: 375px;\n"]))),m=d.a.div(i||(i=Object(u.a)(["\n    position: absolute;\n    bottom: 0;\n    right: 50%;\n    transform: translateX(50%);\n"]))),p=d.a.div(r||(r=Object(u.a)(["\n    background-color: #ffff;\n    display: flex;\n    justify-content: space-between;\n"]))),j=d.a.button(s||(s=Object(u.a)(["\n    background-color: #ffff;\n    border: 1px solid #dcdfe6;\n    padding: 8px 15px;\n    border-left: none;\n    color: #777;\n    &:hover{\n        outline: none;\n        color: #ffff;\n        border: none;\n        background-color: gray;\n    };\n    &:focus{\n        outline: none;\n    }\n"]))),h=d.a.textarea(l||(l=Object(u.a)(["\n    width: 100%;\n    background-color: #fff;\n    border: 1px solid #d4d4d8;\n    resize: none;\n    max-height: 200px;\n    min-height: 175px;\n    font-size: 15px;\n    padding: 1rem;\n    &:focus{\n        outline: none;\n        border: 1px solid #5488c7;\n    }\n"])))},90:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(98);var a=function(e){var t=e.title,n=void 0===t?"":t,a=e.message,o=void 0===a?"":a,c=e.type,i=void 0===c?"info":c,r=e.duration,s=void 0===r?3e3:r,l=document.getElementById("toast-custom");if(l){var u=document.createElement("div"),d=setTimeout((function(){l.removeChild(u)}),s+1e3);u.onclick=function(e){e.target.closest(".toast-custom-close")&&(l.removeChild(u),clearTimeout(d))};var f={success:"fa fa-check-circle",info:"fa fa-info-circle",warning:"fa fa-exclamation-circle",error:"fa fa-exclamation-circle"}[i],b=(s/1e3).toFixed(2);u.classList.add("toast-custom","toast-custom-".concat(i)),u.style.animation="slideInLeft ease .3s, fadeOut linear 1s ".concat(b,"s forwards"),u.innerHTML='\n                      <div class="toast-custom-icon">\n                          <i class="'.concat(f,'"></i>\n                      </div>\n                      <div class="toast-custom-body">\n                          <h3 class="toast-custom-title">').concat(n,'</h3>\n                          <p class="toast-custom-msg">').concat(o,'</p>\n                      </div>\n                      <div class="toast-custom-close">\n                          <i class="fa fa-times"></i>\n                      </div>\n                  '),l.appendChild(u)}}},98:function(e,t,n){},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(21),o={create:function(e){var t=e.author,n=e.title,o=e.summary,c=e.content,i=e.image,r=e.tags,s=e.published,l=e.lastModify,u=e.comments;a.b.database().ref("Blogs").push({author:t,title:n,summary:o,content:c,image:i,tags:r,published:s,lastModify:l,comments:u})},modify:function(e,t){var n=e.title,o=e.summary,c=e.content,i=e.image,r=e.tags,s=e.published,l=e.lastModify,u={};u["Blogs/".concat(t,"/title")]=n,u["Blogs/".concat(t,"/summary")]=o,u["Blogs/".concat(t,"/content")]=c,u["Blogs/".concat(t,"/image")]=i,u["Blogs/".concat(t,"/tags")]=r,u["Blogs/".concat(t,"/published")]=s,u["Blogs/".concat(t,"/lastModify")]=l,a.b.database().ref().update(u)},remove:function(e){a.b.database().ref("Blogs/".concat(e)).remove()}}}}]);
//# sourceMappingURL=1.e8bdd034.chunk.js.map