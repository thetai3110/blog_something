{"version":3,"sources":["pages/blog/blog_page.js","assests/placeholder_img.png","redux/blog/blog_actions.js","components/pagination/pagination.component.js","redux/common/common.actions.js"],"names":["connect","blog","common","lstBlogs","countBlogs","isLoading","dispatch","setLstBlogs","blogs","setCountBlogs","count","setLoading","match","currentPage","params","page","imgRef","useRef","useEffect","getBlogsFound","a","app","database","ref","on","snap","val","lst","Object","keys","map","id","value","length","slice","error","console","log","TAG","style","textAlign","className","role","to","onError","e","target","src","image","alt","title","summary","author","total","parseInt","link","type","BlogTypes","SET_LST_BLOGS","payload","SET_COUNT_BLOGS","setTagsBlog","tags","SET_TAGS_BLOG","setTagsCreating","SET_TAGS_CREATING","setBlogInfo","blogInfo","SET_BLOG_INFO","setFilename","name","SET_FILENAME","toggleSaveBox","TOGGLE_SAVE_BOX","setProgressUpload","progress","PROGRESS_UPLOAD","setHiddenProgressUpload","status","HIDDEN_PROGRESS","Pagination","props","pageInfo","i","push","aria-label","aria-hidden","item","CommonTypes","SET_LOADING"],"mappings":"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","file":"static/js/8.a9912200.chunk.js","sourcesContent":["import { useEffect, useRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Pagination } from \"../../components/pagination/pagination.component\";\r\nimport { setCountBlogs, setLstBlogs } from \"../../redux/blog/blog_actions\";\r\nimport \"./blog_page.css\";\r\nimport placeholder_img from '../../assests/placeholder_img.png'\r\nimport app from \"../../firebase\";\r\nimport { setLoading } from \"../../redux/common/common.actions\";\r\n\r\nconst BlogPage = ({ lstBlogs, countBlogs, setLstBlogs, setCountBlogs, match, isLoading, setLoading }) => {\r\n    const TAG = \"BlogComponent\";\r\n    const currentPage = typeof match.params.page === 'undefined' ? 1 : match.params.page;\r\n    const imgRef = useRef(null);\r\n    useEffect(() => {\r\n        getBlogsFound();\r\n    }, [match])\r\n    const getBlogsFound = async () => {\r\n        try {\r\n            setLstBlogs([]);\r\n            setCountBlogs(0);\r\n            const db = app.database().ref('Blogs');\r\n            db.on('value', (snap) => {\r\n                if (snap.val() !== null) {\r\n                    let lst = Object.keys(snap.val()).map(val => {\r\n                        return { id: val, value: snap.val()[val] }\r\n                    })\r\n                    setCountBlogs(lst.length);\r\n                    setLstBlogs(lst.slice((currentPage - 1) * 3, (currentPage - 1) * 3 + 3));\r\n                    setLoading(false);\r\n                }\r\n            });\r\n        } catch (error) {\r\n            console.log(TAG + ': ' + error);\r\n        }\r\n    }\r\n    if (isLoading) {\r\n        return (\r\n            <div style={{textAlign: 'center'}} className=\"blog-page\">\r\n                <div className=\"spinner-grow\" role=\"status\">\r\n                    <span className=\"sr-only\">Loading...</span>\r\n                </div>\r\n            </div>\r\n        )\r\n    } else\r\n        return (\r\n            <div className=\"blog-page\">\r\n                {lstBlogs.length > 0 ?\r\n                    lstBlogs.map(blog => {\r\n                        return (\r\n                            <div className=\"row blog-list\" key={blog.id}>\r\n                                <div className=\"col-xl-2 col-lg-2 col-md-3 col-sm-12 col-xs-12 col-12 blog-img\">\r\n                                    <Link to={`/blog/detail/${blog.id}`}><img ref={imgRef} onError={(e) => e.target.src = placeholder_img} src={blog.value.image} alt=\"\"></img></Link>\r\n                                </div>\r\n                                <div className=\"col-xl-10 col-lg-10 col-md-9 col-sm-12 col-xs-12 col-12 blog-content\">\r\n                                    <h4><Link to={`/blog/detail/${blog.id}`}>{blog.value.title}</Link></h4>\r\n                                    <p>{blog.value.summary}</p>\r\n                                    <p>Tác giả: {blog.value.author}</p>\r\n                                </div>\r\n                            </div>);\r\n                    }) :\r\n                    <div>Không tìm thấy bất kỳ bài viết nào</div>\r\n                }\r\n                <Pagination {...{ total: countBlogs % 3 === 0 ? parseInt(countBlogs / 3) : parseInt(countBlogs / 3) + 1, link: '/blog', currentPage: currentPage }} />\r\n            </div>\r\n        )\r\n}\r\n\r\nconst mapStateToProps = ({ blog, common }) => ({\r\n    lstBlogs: blog.lstBlogs,\r\n    countBlogs: blog.countBlogs,\r\n    isLoading: common.isLoading\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setLstBlogs: blogs => dispatch(setLstBlogs(blogs)),\r\n    setCountBlogs: count => dispatch(setCountBlogs(count)),\r\n    setLoading: (isLoading) => dispatch(setLoading(isLoading))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BlogPage);","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAMFBMVEXp7vG6vsHm6+63u77Hy868wMPe4+bO09bh5unr8fTR1djAxMfM0NPX3N/IzdDc4eTjtK5LAAAChklEQVR4nO3b6XKDIBRAYRUXEE3e/207wTZ1wRiRGbjJ+X5mOoyn3ri0WhQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgORMHKkz9phivNUR3Poq08axUWUUSo1V6hifMVKf06eu8WhtxMCyvKfu2RqmXaiuc+vY7L6KlduFzdBd51ZS2X0TdfPYrDHGUndX2MZYKqapMMpmRVwqJgrTLBXTZrMqrXXY0UJGYTXerLV1rwMO+hIKjf47/dvxfKKEwnvzvDZR3bWl8jHfLL24gDt9jsy/0HSLa/DT11/5FxbLmwx19iI6/8J2Vdjt7cTKfzbJv3B9o3jbKxysN/FzCmulrH69VE5OT2nlbih9ifkXvnekGX6PtNtBzb/wrbNF/fcz272Yf+EbZ/xq+P8lbBIFFB5ftQ2LnbwaVAmFR1fe9fKbutqLEgpf3z3NR9SXKKPw1R3wUG4sBlVK4a7a97fx+V4UXrgd0U2i8ELPiK4HVXahd0RXe1FYYTv/aG9El4miCo1ubPt/wtgd0cWgiipsm/mHL0Z0vhcFFZrpf4p2+vT1iDqq31sqA57NMvr38nQa1IMRlVjYPq+/H58fjqi4QjP/t7cdj0dUWuFzRCeNP0lyYftek9hCE/ZkhpzC1Yh+YGHQiAoqDBxRQYWBIyqoMPwBNwqTopBCCtP7qsJ7+EPs42qpnMw3qwq3XiojX/hsYhZLxfQthf2Fr+DT6A6rvudQkqrqx3Y1Md4KcrcmKnXQVhfzlZmyrLN732L1AMZVTXZDWoT/6cIbGOXFjehaG+GVIKfJ8K0nx+g+wktBXZ/diWLms18hBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAv8gPVOyl/I2pZFgAAAABJRU5ErkJggg==\"","import { BlogTypes } from \"./blog.types\";\r\n\r\nexport const setLstBlogs = blogs => ({\r\n    type: BlogTypes.SET_LST_BLOGS,\r\n    payload: blogs\r\n})\r\n\r\nexport const setCountBlogs = count => ({\r\n    type: BlogTypes.SET_COUNT_BLOGS,\r\n    payload: count\r\n})\r\n\r\nexport const setTagsBlog = tags => ({\r\n    type: BlogTypes.SET_TAGS_BLOG,\r\n    payload: tags\r\n})\r\n\r\nexport const setTagsCreating = tags => ({\r\n    type: BlogTypes.SET_TAGS_CREATING,\r\n    payload: tags\r\n})\r\n\r\nexport const setBlogInfo = blogInfo => ({\r\n    type: BlogTypes.SET_BLOG_INFO,\r\n    payload: blogInfo\r\n})\r\n\r\nexport const setFilename = name => ({\r\n    type: BlogTypes.SET_FILENAME,\r\n    payload: name\r\n})\r\n\r\nexport const toggleSaveBox = () => ({\r\n    type: BlogTypes.TOGGLE_SAVE_BOX\r\n})\r\n\r\nexport const setProgressUpload = (progress) => ({\r\n    type: BlogTypes.PROGRESS_UPLOAD,\r\n    payload: progress\r\n})\r\n\r\nexport const setHiddenProgressUpload = (status) => ({\r\n    type: BlogTypes.HIDDEN_PROGRESS,\r\n    payload: status\r\n})","import { Link } from \"react-router-dom\";\r\nimport './pagination.component.css';\r\nexport const Pagination = (props) => {\r\n    const pageInfo = [];\r\n    for (let i = 0; i < props.total; i++) {\r\n        pageInfo.push(props.link + '/' + (i + 1));\r\n    }\r\n    return (\r\n        <nav aria-label=\"Page navigation example\" className=\"custom-pagination\">\r\n            <ul className=\"pagination\">\r\n                <li className={parseInt(props.currentPage) === 1 ? 'page-item disabled' : 'page-item'}>\r\n                    <Link className=\"page-link\" to={`${props.link}/${parseInt(props.currentPage) - 1}`} aria-label=\"Previous\">\r\n                        <span aria-hidden=\"true\">&laquo;</span>\r\n                        <span className=\"sr-only\">Previous</span>\r\n                    </Link>\r\n                </li>\r\n                {pageInfo.map((item, i) => {\r\n                    return <li className={parseInt(props.currentPage) === (i + 1) ? 'page-item disabled' : 'page-item'} key={i}><Link className=\"page-link\" to={item}>{i + 1}</Link></li>\r\n                })}\r\n                <li className={parseInt(props.currentPage) === parseInt(props.total) ? 'page-item disabled' : 'page-item'}>\r\n                    <Link className=\"page-link\" to={`${props.link}/${parseInt(props.currentPage) + 1}`} aria-label=\"Next\">\r\n                        <span aria-hidden=\"true\">&raquo;</span>\r\n                        <span className=\"sr-only\">Next</span>\r\n                    </Link>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    )\r\n}","import { CommonTypes } from \"./common.types\";\r\n\r\nexport const setLoading = isLoading => ({\r\n    type: CommonTypes.SET_LOADING,\r\n    payload: isLoading\r\n})"],"sourceRoot":""}