{"version":3,"sources":["pages/blog/blog.page.js","assests/placeholder_img.png","redux/blog/blog_actions.js","components/common/common-styled.component.js","components/pagination/pagination.component.js"],"names":["connect","blog","common","lstBlogs","countBlogs","isLoading","dispatch","setLstBlogs","blogs","setCountBlogs","count","setLoading","match","currentPage","params","page","imgRef","useRef","useEffect","$","prop","a","app","database","ref","on","snap","val","lst","Object","keys","map","id","value","filter","el","published","length","slice","error","console","log","TAG","className","to","onError","e","target","src","image","alt","title","summary","author","email","total","parseInt","link","type","BlogTypes","SET_LST_BLOGS","payload","setLstDrafts","drafts","SET_LST_DRAFTS","setLstPublics","publics","SET_LST_PUBLICS","setLstPrivates","privates","SET_LST_PRIVATES","SET_COUNT_BLOGS","setCountDrafts","SET_COUNT_DRAFTS","setCountPublics","SET_COUNT_PUBLICS","setCountPrivates","SET_COUNT_PRIVATES","setTagsBlog","tags","SET_TAGS_BLOG","setBlogInfo","blogInfo","SET_BLOG_INFO","setFilename","name","SET_FILENAME","toggleSaveBox","TOGGLE_SAVE_BOX","setProgressUpload","progress","PROGRESS_UPLOAD","setHiddenProgressUpload","status","HIDDEN_PROGRESS","setHiddenSidebar","hidden","HIDDEN_SIDEBAR","setAllTags","SET_ALL_TAG","setSearchInfo","info","SEARCH_INFO","setSelectionRange","selectionRange","SET_SELECTION_RANGE","StyledInput","styled","input","StyledOption","option","StyledDataLists","datalist","StyledPagination","div","StyledSearch","StyledButtonSearch","button","StyledTextarea","textarea","Pagination","props","pageInfo","i","push","aria-label","aria-hidden","item"],"mappings":"wPA+EeA,uBAZS,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,OAAT,MAAuB,CAC3CC,SAAUF,EAAKE,SACfC,WAAYH,EAAKG,WACjBC,UAAWH,EAAOG,cAGK,SAAAC,GAAQ,MAAK,CACpCC,YAAa,SAAAC,GAAK,OAAIF,EAASC,YAAYC,KAC3CC,cAAe,SAAAC,GAAK,OAAIJ,EAASG,YAAcC,KAC/CC,WAAY,SAACN,GAAD,OAAeC,EAASK,YAAWN,QAGpCL,EAnEE,SAAC,GAAwF,IAAtFG,EAAqF,EAArFA,SAAUC,EAA2E,EAA3EA,WAAYG,EAA+D,EAA/DA,YAAaE,EAAkD,EAAlDA,cAAeG,EAAmC,EAAnCA,MAAOP,EAA4B,EAA5BA,UAAWM,EAAiB,EAAjBA,WAE9EE,EAA2C,qBAAtBD,EAAME,OAAOC,KAAuB,EAAIH,EAAME,OAAOC,KAC1EC,EAASC,iBAAO,MA0BtB,OAzBAC,qBAAU,WACNP,GAAW,GACXQ,IAAE,mBAAmBC,KAAK,WAAW,GACrCD,IAAE,mBAAmBC,KAAK,WAAW,GACrC,sBAAC,sBAAAC,EAAA,sDACG,IACId,EAAY,IACZE,EAAc,GACHa,IAAIC,WAAWC,IAAI,SAC3BC,GAAG,SAAS,SAACC,GACZ,GAAmB,OAAfA,EAAKC,MAAgB,CACrB,IAGIC,EAHKC,OAAOC,KAAKJ,EAAKC,OAAOI,KAAI,SAAAJ,GACjC,MAAO,CAAEK,GAAIL,EAAKM,MAAOP,EAAKC,MAAMA,OAE3BO,QAAO,SAAAC,GAAQ,OAA8B,IAAvBA,EAAGF,MAAMG,aAC5C3B,EAAcmB,EAAIS,QAClB9B,EAAYqB,EAAIU,MAA0B,GAAnBzB,EAAc,GAA4B,GAAnBA,EAAc,GAAS,IACrEF,GAAW,OAGrB,MAAO4B,GACLC,QAAQC,IAAIC,kBAAaH,GAjBhC,0CAAD,KAoBD,CAAC3B,IACAP,EACO,cAAC,IAAD,IAGH,sBAAKsC,UAAU,YAAf,UACKxC,EAASkC,OAAS,EACflC,EAAS4B,KAAI,SAAA9B,GACT,OACI,sBAAK0C,UAAU,gBAAf,UACI,qBAAKA,UAAU,6BAAf,SACI,cAAC,IAAD,CAAMC,GAAE,uBAAkB3C,EAAK+B,IAA/B,SAAqC,qBAAKR,IAAKR,EAAQ6B,QAAS,SAACC,GAAD,OAAOA,EAAEC,OAAOC,ICnDrG,shCDmD4HA,IAAK/C,EAAKgC,MAAMgB,MAAOC,IAAI,SAEtI,sBAAKP,UAAU,kCAAf,UACI,6BAAI,cAAC,IAAD,CAAMC,GAAE,uBAAkB3C,EAAK+B,IAA/B,SAAsC/B,EAAKgC,MAAMkB,UACrD,4BAAIlD,EAAKgC,MAAMmB,UACf,kDAAanD,EAAKgC,MAAMoB,OAAOC,cAPHrD,EAAK+B,OAWjD,qGAEJ,cAAC,IAAD,CAAkBuB,MAAOnD,EAAa,IAAM,EAAIoD,SAASpD,EAAa,GAAKoD,SAASpD,EAAa,GAAK,EAAGqD,KAAM,SAAU5C,YAAaA,W,gCE9DtJ,gnBAEaN,EAAc,SAAAC,GAAK,MAAK,CACjCkD,KAAMC,IAAUC,cAChBC,QAASrD,IAGAsD,EAAe,SAAAC,GAAM,MAAK,CACnCL,KAAMC,IAAUK,eAChBH,QAASE,IAGAE,EAAgB,SAAAC,GAAO,MAAK,CACrCR,KAAMC,IAAUQ,gBAChBN,QAASK,IAGAE,EAAiB,SAAAC,GAAQ,MAAK,CACvCX,KAAMC,IAAUW,iBAChBT,QAASQ,IAGA5D,EAAgB,SAAAC,GAAK,MAAK,CACnCgD,KAAMC,IAAUY,gBAChBV,QAASnD,IAGA8D,EAAiB,SAAA9D,GAAK,MAAK,CACpCgD,KAAMC,IAAUc,iBAChBZ,QAASnD,IAGAgE,EAAkB,SAAAhE,GAAK,MAAK,CACrCgD,KAAMC,IAAUgB,kBAChBd,QAASnD,IAGAkE,EAAmB,SAAAlE,GAAK,MAAK,CACtCgD,KAAMC,IAAUkB,mBAChBhB,QAASnD,IAGAoE,EAAc,SAAAC,GAAI,MAAK,CAChCrB,KAAMC,IAAUqB,cAChBnB,QAASkB,IAGAE,EAAc,SAAAC,GAAQ,MAAK,CACpCxB,KAAMC,IAAUwB,cAChBtB,QAASqB,IAGAE,EAAc,SAAAC,GAAI,MAAK,CAChC3B,KAAMC,IAAU2B,aAChBzB,QAASwB,IAGAE,EAAgB,iBAAO,CAChC7B,KAAMC,IAAU6B,kBAGPC,EAAoB,SAACC,GAAD,MAAe,CAC5ChC,KAAMC,IAAUgC,gBAChB9B,QAAS6B,IAGAE,EAA0B,SAACC,GAAD,MAAa,CAChDnC,KAAMC,IAAUmC,gBAChBjC,QAASgC,IAGAE,EAAmB,SAACC,GAAD,MAAa,CACzCtC,KAAMC,IAAUsC,eAChBpC,QAASmC,IAGAE,EAAa,SAACnB,GAAD,MAAW,CACjCrB,KAAMC,IAAUwC,YAChBtC,QAASkB,IAGAqB,EAAgB,SAACC,GAAD,MAAW,CACpC3C,KAAMC,IAAU2C,YAChBzC,QAASwC,IAGAE,EAAoB,SAACC,GAAD,MAAqB,CAClD9C,KAAMC,IAAU8C,oBAChB5C,QAAS2C,K,gTCtFAE,EAAcC,IAAOC,MAAV,0PAYXC,EAAeF,IAAOG,OAAV,qEAIZC,EAAkBJ,IAAOK,SAAV,qEAIfC,EAAmBN,IAAOO,IAAV,uHAMhBC,EAAeR,IAAOO,IAAV,mHAKZE,EAAqBT,IAAOU,OAAV,sUAgBlBC,EAAiBX,IAAOY,SAAV,0S,gCCjD3B,4DAEaC,EAAa,SAACC,GAEvB,IADA,IAAMC,EAAW,GACRC,EAAI,EAAGA,EAAIF,EAAMlE,MAAOoE,IAC7BD,EAASE,KAAKH,EAAMhE,KAAO,KAAOkE,EAAI,IAE1C,OACI,cAAC,IAAD,CAAkBE,aAAW,0BAA7B,SACI,qBAAIlF,UAAU,aAAd,UACI,oBAAIA,UAA2C,IAAhCa,SAASiE,EAAM5G,aAAqB,qBAAuB,YAA1E,SACI,eAAC,IAAD,CAAM8B,UAAU,YAAYC,GAAE,UAAK6E,EAAMhE,KAAX,YAAmBD,SAASiE,EAAM5G,aAAe,GAAKgH,aAAW,WAA/F,UACI,sBAAMC,cAAY,OAAlB,kBACA,sBAAMnF,UAAU,UAAhB,2BAGP+E,EAAS3F,KAAI,SAACgG,EAAMJ,GACjB,OAAO,oBAAIhF,UAAWa,SAASiE,EAAM5G,eAAkB8G,EAAI,EAAK,qBAAuB,YAAhF,SAAqG,cAAC,IAAD,CAAMhF,UAAU,YAAYC,GAAImF,EAAhC,SAAuCJ,EAAI,KAA9CA,MAE7G,oBAAIhF,UAAWa,SAASiE,EAAM5G,eAAiB2C,SAASiE,EAAMlE,OAAS,qBAAuB,YAA9F,SACI,eAAC,IAAD,CAAMZ,UAAU,YAAYC,GAAE,UAAK6E,EAAMhE,KAAX,YAAmBD,SAASiE,EAAM5G,aAAe,GAAKgH,aAAW,OAA/F,UACI,sBAAMC,cAAY,OAAlB,kBACA,sBAAMnF,UAAU,UAAhB","file":"static/js/16.824eebf2.chunk.js","sourcesContent":["import { useEffect, useRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Pagination } from \"../../components/pagination/pagination.component\";\r\nimport { setCountBlogs, setLstBlogs } from \"../../redux/blog/blog_actions\";\r\nimport \"./blog.page.css\";\r\nimport placeholder_img from '../../assests/placeholder_img.png'\r\nimport app from \"../../firebase\";\r\nimport { setLoading } from \"../../redux/common/common.actions\";\r\nimport Loading from \"../../components/loading/loading\";\r\nimport $ from 'jquery';\r\n\r\nconst BlogPage = ({ lstBlogs, countBlogs, setLstBlogs, setCountBlogs, match, isLoading, setLoading }) => {\r\n    const TAG = \"BlogComponent\";\r\n    const currentPage = typeof match.params.page === 'undefined' ? 1 : match.params.page;\r\n    const imgRef = useRef(null);\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        $('.navbar-checked').prop('checked', false);\r\n        $('.navbar-overlap').prop('checked', false);\r\n        (async function () {\r\n            try {\r\n                setLstBlogs([]);\r\n                setCountBlogs(0);\r\n                const db = app.database().ref('Blogs');\r\n                db.on('value', (snap) => {\r\n                    if (snap.val() !== null) {\r\n                        let rs = Object.keys(snap.val()).map(val => {\r\n                            return { id: val, value: snap.val()[val] }\r\n                        })\r\n                        let lst = rs.filter(el => { return el.value.published === 1 })\r\n                        setCountBlogs(lst.length);\r\n                        setLstBlogs(lst.slice((currentPage - 1) * 3, (currentPage - 1) * 3 + 3));\r\n                        setLoading(false);\r\n                    }\r\n                });\r\n            } catch (error) {\r\n                console.log(TAG + ': ' + error);\r\n            }\r\n        })()\r\n    }, [match])\r\n    if (isLoading) {\r\n        return <Loading></Loading>\r\n    } else\r\n        return (\r\n            <div className=\"blog-page\">\r\n                {lstBlogs.length > 0 ?\r\n                    lstBlogs.map(blog => {\r\n                        return (\r\n                            <div className=\"row blog-list\" key={blog.id}>\r\n                                <div className=\"col l-2 md-3 c-12 blog-img\">\r\n                                    <Link to={`/blog/detail/${blog.id}`}><img ref={imgRef} onError={(e) => e.target.src = placeholder_img} src={blog.value.image} alt=\"\"></img></Link>\r\n                                </div>\r\n                                <div className=\"col l-10 md-9 c-12 blog-content\">\r\n                                    <h4><Link to={`/blog/detail/${blog.id}`}>{blog.value.title}</Link></h4>\r\n                                    <p>{blog.value.summary}</p>\r\n                                    <p>Tác giả: {blog.value.author.email}</p>\r\n                                </div>\r\n                            </div>);\r\n                    }) :\r\n                    <div>Không tìm thấy bất kỳ bài viết nào</div>\r\n                }\r\n                <Pagination {...{ total: countBlogs % 3 === 0 ? parseInt(countBlogs / 3) : parseInt(countBlogs / 3) + 1, link: '/blogs', currentPage: currentPage }} />\r\n            </div>\r\n        )\r\n}\r\n\r\nconst mapStateToProps = ({ blog, common }) => ({\r\n    lstBlogs: blog.lstBlogs,\r\n    countBlogs: blog.countBlogs,\r\n    isLoading: common.isLoading\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setLstBlogs: blogs => dispatch(setLstBlogs(blogs)),\r\n    setCountBlogs: count => dispatch(setCountBlogs(count)),\r\n    setLoading: (isLoading) => dispatch(setLoading(isLoading))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BlogPage);","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAMFBMVEXp7vG6vsHm6+63u77Hy868wMPe4+bO09bh5unr8fTR1djAxMfM0NPX3N/IzdDc4eTjtK5LAAAChklEQVR4nO3b6XKDIBRAYRUXEE3e/207wTZ1wRiRGbjJ+X5mOoyn3ri0WhQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgORMHKkz9phivNUR3Poq08axUWUUSo1V6hifMVKf06eu8WhtxMCyvKfu2RqmXaiuc+vY7L6KlduFzdBd51ZS2X0TdfPYrDHGUndX2MZYKqapMMpmRVwqJgrTLBXTZrMqrXXY0UJGYTXerLV1rwMO+hIKjf47/dvxfKKEwnvzvDZR3bWl8jHfLL24gDt9jsy/0HSLa/DT11/5FxbLmwx19iI6/8J2Vdjt7cTKfzbJv3B9o3jbKxysN/FzCmulrH69VE5OT2nlbih9ifkXvnekGX6PtNtBzb/wrbNF/fcz272Yf+EbZ/xq+P8lbBIFFB5ftQ2LnbwaVAmFR1fe9fKbutqLEgpf3z3NR9SXKKPw1R3wUG4sBlVK4a7a97fx+V4UXrgd0U2i8ELPiK4HVXahd0RXe1FYYTv/aG9El4miCo1ubPt/wtgd0cWgiipsm/mHL0Z0vhcFFZrpf4p2+vT1iDqq31sqA57NMvr38nQa1IMRlVjYPq+/H58fjqi4QjP/t7cdj0dUWuFzRCeNP0lyYftek9hCE/ZkhpzC1Yh+YGHQiAoqDBxRQYWBIyqoMPwBNwqTopBCCtP7qsJ7+EPs42qpnMw3qwq3XiojX/hsYhZLxfQthf2Fr+DT6A6rvudQkqrqx3Y1Md4KcrcmKnXQVhfzlZmyrLN732L1AMZVTXZDWoT/6cIbGOXFjehaG+GVIKfJ8K0nx+g+wktBXZ/diWLms18hBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAv8gPVOyl/I2pZFgAAAABJRU5ErkJggg==\"","import { BlogTypes } from \"./blog.types\";\r\n\r\nexport const setLstBlogs = blogs => ({\r\n    type: BlogTypes.SET_LST_BLOGS,\r\n    payload: blogs\r\n})\r\n\r\nexport const setLstDrafts = drafts => ({\r\n    type: BlogTypes.SET_LST_DRAFTS,\r\n    payload: drafts\r\n})\r\n\r\nexport const setLstPublics = publics => ({\r\n    type: BlogTypes.SET_LST_PUBLICS,\r\n    payload: publics\r\n})\r\n\r\nexport const setLstPrivates = privates => ({\r\n    type: BlogTypes.SET_LST_PRIVATES,\r\n    payload: privates\r\n})\r\n\r\nexport const setCountBlogs = count => ({\r\n    type: BlogTypes.SET_COUNT_BLOGS,\r\n    payload: count\r\n})\r\n\r\nexport const setCountDrafts = count => ({\r\n    type: BlogTypes.SET_COUNT_DRAFTS,\r\n    payload: count\r\n})\r\n\r\nexport const setCountPublics = count => ({\r\n    type: BlogTypes.SET_COUNT_PUBLICS,\r\n    payload: count\r\n})\r\n\r\nexport const setCountPrivates = count => ({\r\n    type: BlogTypes.SET_COUNT_PRIVATES,\r\n    payload: count\r\n})\r\n\r\nexport const setTagsBlog = tags => ({\r\n    type: BlogTypes.SET_TAGS_BLOG,\r\n    payload: tags\r\n})\r\n\r\nexport const setBlogInfo = blogInfo => ({\r\n    type: BlogTypes.SET_BLOG_INFO,\r\n    payload: blogInfo\r\n})\r\n\r\nexport const setFilename = name => ({\r\n    type: BlogTypes.SET_FILENAME,\r\n    payload: name\r\n})\r\n\r\nexport const toggleSaveBox = () => ({\r\n    type: BlogTypes.TOGGLE_SAVE_BOX\r\n})\r\n\r\nexport const setProgressUpload = (progress) => ({\r\n    type: BlogTypes.PROGRESS_UPLOAD,\r\n    payload: progress\r\n})\r\n\r\nexport const setHiddenProgressUpload = (status) => ({\r\n    type: BlogTypes.HIDDEN_PROGRESS,\r\n    payload: status\r\n})\r\n\r\nexport const setHiddenSidebar = (hidden) => ({\r\n    type: BlogTypes.HIDDEN_SIDEBAR,\r\n    payload: hidden\r\n})\r\n\r\nexport const setAllTags = (tags) => ({\r\n    type: BlogTypes.SET_ALL_TAG,\r\n    payload: tags\r\n})\r\n\r\nexport const setSearchInfo = (info) => ({\r\n    type: BlogTypes.SEARCH_INFO,\r\n    payload: info\r\n})\r\n\r\nexport const setSelectionRange = (selectionRange) => ({\r\n    type: BlogTypes.SET_SELECTION_RANGE,\r\n    payload: selectionRange\r\n})","import styled from 'styled-components';\r\n\r\nexport const StyledInput = styled.input`\r\n    border: 1px solid #dcdfe6;\r\n    background-color: #ffff;\r\n    flex-grow: 2;\r\n    color: #777;\r\n    padding: 7px 15px;\r\n    width: 100%;\r\n    &:focus{\r\n        outline: none;\r\n        border: 1px solid #5488c7;\r\n    }\r\n`\r\nexport const StyledOption = styled.option`\r\n    color: #777;\r\n    min-width: 375px;\r\n`\r\nexport const StyledDataLists = styled.datalist`\r\n    color: #777;\r\n    min-width: 375px;\r\n`\r\nexport const StyledPagination = styled.div`\r\n    position: absolute;\r\n    bottom: 0;\r\n    right: 50%;\r\n    transform: translateX(50%);\r\n`\r\nexport const StyledSearch = styled.div`\r\n    background-color: #ffff;\r\n    display: flex;\r\n    justify-content: space-between;\r\n`\r\nexport const StyledButtonSearch = styled.button`\r\n    background-color: #ffff;\r\n    border: 1px solid #dcdfe6;\r\n    padding: 8px 15px;\r\n    border-left: none;\r\n    color: #777;\r\n    &:hover{\r\n        outline: none;\r\n        color: #ffff;\r\n        border: none;\r\n        background-color: gray;\r\n    };\r\n    &:focus{\r\n        outline: none;\r\n    }\r\n`\r\nexport const StyledTextarea = styled.textarea`\r\n    width: 100%;\r\n    background-color: #fff;\r\n    border: 1px solid #d4d4d8;\r\n    resize: none;\r\n    max-height: 200px;\r\n    min-height: 175px;\r\n    font-size: 15px;\r\n    padding: 1rem;\r\n    &:focus{\r\n        outline: none;\r\n        border: 1px solid #5488c7;\r\n    }\r\n`","import { Link } from \"react-router-dom\";\r\nimport { StyledPagination } from \"../common/common-styled.component\";\r\nexport const Pagination = (props) => {\r\n    const pageInfo = [];\r\n    for (let i = 0; i < props.total; i++) {\r\n        pageInfo.push(props.link + '/' + (i + 1));\r\n    }\r\n    return (\r\n        <StyledPagination aria-label=\"Page navigation example\">\r\n            <ul className=\"pagination\">\r\n                <li className={parseInt(props.currentPage) === 1 ? 'page-item disabled' : 'page-item'}>\r\n                    <Link className=\"page-link\" to={`${props.link}/${parseInt(props.currentPage) - 1}`} aria-label=\"Previous\">\r\n                        <span aria-hidden=\"true\">&laquo;</span>\r\n                        <span className=\"sr-only\">Previous</span>\r\n                    </Link>\r\n                </li>\r\n                {pageInfo.map((item, i) => {\r\n                    return <li className={parseInt(props.currentPage) === (i + 1) ? 'page-item disabled' : 'page-item'} key={i}><Link className=\"page-link\" to={item}>{i + 1}</Link></li>\r\n                })}\r\n                <li className={parseInt(props.currentPage) === parseInt(props.total) ? 'page-item disabled' : 'page-item'}>\r\n                    <Link className=\"page-link\" to={`${props.link}/${parseInt(props.currentPage) + 1}`} aria-label=\"Next\">\r\n                        <span aria-hidden=\"true\">&raquo;</span>\r\n                        <span className=\"sr-only\">Next</span>\r\n                    </Link>\r\n                </li>\r\n            </ul>\r\n        </StyledPagination>\r\n    )\r\n}"],"sourceRoot":""}