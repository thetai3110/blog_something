{"version":3,"sources":["pages/login/login_page.js","redux/login/login.actions.js","pages/login/components/others-login.component.js"],"names":["connect","error","login","dispatch","setError","err","history","console","log","emailRef","useRef","passwordRef","useAuth","logout","e","a","preventDefault","current","value","user","emailVerified","push","message","className","role","style","color","fontSize","display","onSubmit","htmlFor","id","type","ref","data-type","to","LoginTypes","SET_ERROR","payload","setMessage","SET_MESSAGE","withRouter","loginWithFacebook","loginWithGoogle","onClick"],"mappings":"+LAyEeA,uBARS,SAAC,GAAD,MAAgB,CACpCC,MADoB,EAAGC,MACVD,UAGU,SAAAE,GAAQ,MAAK,CACpCC,SAAU,SAAAC,GAAG,OAAIF,EAASC,YAASC,QAGxBL,EAjEG,SAAC,GAAkC,IAAhCM,EAA+B,EAA/BA,QAASL,EAAsB,EAAtBA,MAAOG,EAAe,EAAfA,SACjCG,QAAQC,IAAIF,GACZ,IAAMG,EAAWC,mBACXC,EAAcD,mBAH4B,EAItBE,cAAlBV,EAJwC,EAIxCA,MAAOW,EAJiC,EAIjCA,OAJiC,4CAKhD,WAA4BC,GAA5B,SAAAC,EAAA,6DACID,EAAEE,iBADN,SAGQZ,EAAS,IAHjB,SAIyBF,EAAMO,EAASQ,QAAQC,MAAOP,EAAYM,QAAQC,OAJ3E,cAKeC,KAAKC,cACRd,EAAQe,KAAK,MAEbjB,EAAS,wDACTS,KATZ,gDAYQT,EAAS,KAAMkB,SAZvB,0DALgD,sBAoBhD,OACI,qBAAKC,UAAU,aAAf,SACI,qBAAKA,UAAU,aAAf,SACI,sBAAKA,UAAU,gBAAf,UACI,yCACA,qBAAKA,UAAU,qBAAqBC,KAAK,QAAQC,MAAO,CAAEC,MAAO,MAAOC,SAAU,OAAQC,QAAmB,KAAV3B,EAAe,OAAS,SAA3H,SACKA,IAEL,qBAAKsB,UAAU,aAAf,SACI,uBAAMA,UAAU,UAAUM,SA7BE,4CA6B5B,UACI,sBAAKN,UAAU,QAAf,UACI,uBAAOO,QAAQ,QAAQP,UAAU,QAAjC,mBACA,uBAAOQ,GAAG,eAAeC,KAAK,OAAOT,UAAU,QAAQU,IAAKxB,OAEhE,sBAAKc,UAAU,QAAf,UACI,uBAAOO,QAAQ,OAAOP,UAAU,QAAhC,sBACA,uBAAOQ,GAAG,cAAcC,KAAK,WAAWT,UAAU,QAAQW,YAAU,WAAWD,IAAKtB,OAExF,qBAAKY,UAAU,QAAf,SACI,uBAAOS,KAAK,SAAST,UAAU,SAASL,MAAM,cAElD,sBAAKK,UAAU,eAAf,UACI,qBAAKA,UAAU,gBAAf,SACI,cAAC,IAAD,CAAMY,GAAG,UAAT,wBAEJ,cAAC,IAAD,CAAMA,GAAG,mBAAmBZ,UAAU,kBAAtC,iCAEJ,qBAAKA,UAAU,OACf,cAAC,IAAD,oB,gCCxD5B,gFAEanB,EAAU,SAAAC,GAAG,MAAK,CAC3B2B,KAAMI,IAAWC,UACjBC,QAASjC,IAGAkC,EAAa,SAAAjB,GAAO,MAAK,CAClCU,KAAMI,IAAWI,YACjBF,QAAShB,K,4GCiCEmB,gBAAWzC,YAAQ,MAJP,SAAAG,GAAQ,MAAK,CACpCC,SAAU,SAAAC,GAAG,OAAIF,EAASC,YAASC,QAGbL,EApCN,SAAC,GAA2B,IAAzBI,EAAwB,EAAxBA,SAAUE,EAAc,EAAdA,QAAc,EACIM,cAAvC8B,EADmC,EACnCA,kBAAmBC,EADgB,EAChBA,gBADgB,4CAE3C,WAAmC7B,GAAnC,SAAAC,EAAA,6DACID,EAAEE,iBADN,SAGQZ,EAAS,IAHjB,SAIcsC,IAJd,OAKQpC,EAAQe,KAAK,KALrB,gDAOQjB,EAAS,KAAMkB,SAPvB,0DAF2C,kEAY3C,WAAiCR,GAAjC,SAAAC,EAAA,6DACID,EAAEE,iBADN,SAGQZ,EAAS,IAHjB,SAIcuC,IAJd,OAKQrC,EAAQe,KAAK,KALrB,gDAOQjB,EAAS,KAAMkB,SAPvB,0DAZ2C,sBAsB3C,OACI,qBAAKC,UAAU,cAAf,SACI,+BACI,oBAAIA,UAAU,KAAd,SAAmB,wBAAQqB,QAzBI,4CAyBZ,SAAsC,mBAAGrB,UAAU,8BACtE,oBAAIA,UAAU,KAAd,SAAmB,wBAAQqB,QA1BI,4CA0BZ,SAAoC,mBAAGrB,UAAU,+B","file":"static/js/9.0737adc1.chunk.js","sourcesContent":["import { Link } from 'react-router-dom';\r\nimport './login_page.css';\r\nimport { useRef } from 'react';\r\nimport { useAuth } from '../../contexts/auth_context';\r\nimport { connect } from 'react-redux';\r\nimport { setError } from '../../redux/login/login.actions';\r\nimport OthersLogin from './components/others-login.component';\r\n\r\nconst LoginPage = ({ history, error, setError }) => {\r\n    console.log(history)\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const { login, logout } = useAuth()\r\n    async function handleSubmit(e) {\r\n        e.preventDefault()\r\n        try {\r\n            setError(\"\")\r\n            const rs = await login(emailRef.current.value, passwordRef.current.value)\r\n            if (rs.user.emailVerified) {\r\n                history.push('/')\r\n            } else {\r\n                setError('The user not exists. The user may have been deleted.')\r\n                logout()\r\n            }\r\n        } catch (error) {\r\n            setError(error.message)\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"login_page\">\r\n            <div className=\"login-wrap\">\r\n                <div className=\"login-content\">\r\n                    <h2>sign in</h2>\r\n                    <div className=\"alert alert-danger\" role=\"alert\" style={{ color: 'red', fontSize: '13px', display: error === '' ? 'none' : 'block' }}>\r\n                        {error}\r\n                    </div>\r\n                    <div className=\"login-form\">\r\n                        <form className=\"sign-in\" onSubmit={handleSubmit}>\r\n                            <div className=\"group\">\r\n                                <label htmlFor=\"email\" className=\"label\">Email</label>\r\n                                <input id=\"email-signin\" type=\"text\" className=\"input\" ref={emailRef}></input>\r\n                            </div>\r\n                            <div className=\"group\">\r\n                                <label htmlFor=\"pass\" className=\"label\">Password</label>\r\n                                <input id=\"pass-signin\" type=\"password\" className=\"input\" data-type=\"password\" ref={passwordRef}></input>\r\n                            </div>\r\n                            <div className=\"group\">\r\n                                <input type=\"submit\" className=\"button\" value=\"Sign In\"></input>\r\n                            </div>\r\n                            <div className=\"group forgot\">\r\n                                <div className=\"link-redirect\">\r\n                                    <Link to=\"/signup\">Sign Up?</Link>\r\n                                </div>\r\n                                <Link to=\"/forgot-password\" className=\"forgot-password\">Forgot Password?</Link>\r\n                            </div>\r\n                            <div className=\"hr\"></div>\r\n                            <OthersLogin />\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = ({ login }) => ({\r\n    error: login.error,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setError: err => dispatch(setError(err)),\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginPage);\r\n\r\n\r\n\r\n","import { LoginTypes } from \"./login.types\";\r\n\r\nexport const setError= err => ({\r\n    type: LoginTypes.SET_ERROR,\r\n    payload: err\r\n})\r\n\r\nexport const setMessage = message => ({\r\n    type: LoginTypes.SET_MESSAGE,\r\n    payload: message\r\n})","import { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport { useAuth } from '../../../contexts/auth_context';\r\nimport { setError } from '../../../redux/login/login.actions';\r\nimport './other-login.component.css';\r\n\r\nconst OthersLogin = ({ setError, history }) => {\r\n    const { loginWithFacebook, loginWithGoogle } = useAuth();\r\n    async function handleLoginFacebook(e) {\r\n        e.preventDefault()\r\n        try {\r\n            setError(\"\")\r\n            await loginWithFacebook()\r\n            history.push('/')\r\n        } catch (error) {\r\n            setError(error.message)\r\n        }\r\n    }\r\n    async function handleLoginGoogle(e) {\r\n        e.preventDefault()\r\n        try {\r\n            setError(\"\")\r\n            await loginWithGoogle()\r\n            history.push('/')\r\n        } catch (error) {\r\n            setError(error.message)\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"login-other\">\r\n            <ul>\r\n                <li className=\"fb\"><button onClick={handleLoginFacebook}><i className=\"fa fa-facebook-square\"></i></button></li>\r\n                <li className=\"gl\"><button onClick={handleLoginGoogle}><i className=\"fa fa-google\"></i></button></li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setError: err => dispatch(setError(err)),\r\n})\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(OthersLogin));"],"sourceRoot":""}